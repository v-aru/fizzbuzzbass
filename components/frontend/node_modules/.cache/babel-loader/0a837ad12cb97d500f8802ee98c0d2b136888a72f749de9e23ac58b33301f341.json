{"ast":null,"code":"'use strict';\n\nvar jsonLines = require('json-lines'),\n  partOf = require('partof');\nvar postEvents = function postEvents(app) {\n  return jsonLines(function (client) {\n    var filter = client.req.body || {};\n    var sendToClient = function sendToClient(event) {\n      if (!partOf(filter, event)) {\n        return undefined;\n      }\n      if (!event.metadata.isAuthorized || event.metadata.isAuthorized.forPublic || event.metadata.isAuthorized.forAuthenticated && client.req.user.sub !== 'anonymous' || event.metadata.isAuthorized.owner === client.req.user.sub) {\n        return client.send(event);\n      }\n      return undefined;\n    };\n    client.once('connect', function () {\n      app.api.outgoing.on('data', sendToClient);\n    });\n    client.once('disconnect', function () {\n      app.api.outgoing.removeListener('data', sendToClient);\n    });\n  });\n};\nmodule.exports = postEvents;","map":{"version":3,"names":["jsonLines","require","partOf","postEvents","app","client","filter","req","body","sendToClient","event","undefined","metadata","isAuthorized","forPublic","forAuthenticated","user","sub","owner","send","once","api","outgoing","on","removeListener","module","exports"],"sources":["/Users/anandarunima/Documents/Arunima/Coursework/sauce_labs-fizzbuzzbash/fizzbuzzbass/components/node_modules/tailwind/dist/wires/api/http/v1/postEvents.js"],"sourcesContent":["'use strict';\n\nvar jsonLines = require('json-lines'),\n    partOf = require('partof');\n\nvar postEvents = function postEvents(app) {\n  return jsonLines(function (client) {\n    var filter = client.req.body || {};\n\n    var sendToClient = function sendToClient(event) {\n      if (!partOf(filter, event)) {\n        return undefined;\n      }\n\n      if (!event.metadata.isAuthorized || event.metadata.isAuthorized.forPublic || event.metadata.isAuthorized.forAuthenticated && client.req.user.sub !== 'anonymous' || event.metadata.isAuthorized.owner === client.req.user.sub) {\n        return client.send(event);\n      }\n\n      return undefined;\n    };\n\n    client.once('connect', function () {\n      app.api.outgoing.on('data', sendToClient);\n    });\n    client.once('disconnect', function () {\n      app.api.outgoing.removeListener('data', sendToClient);\n    });\n  });\n};\n\nmodule.exports = postEvents;"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,SAAS,GAAGC,OAAO,CAAC,YAAY,CAAC;EACjCC,MAAM,GAAGD,OAAO,CAAC,QAAQ,CAAC;AAE9B,IAAIE,UAAU,GAAG,SAASA,UAAUA,CAACC,GAAG,EAAE;EACxC,OAAOJ,SAAS,CAAC,UAAUK,MAAM,EAAE;IACjC,IAAIC,MAAM,GAAGD,MAAM,CAACE,GAAG,CAACC,IAAI,IAAI,CAAC,CAAC;IAElC,IAAIC,YAAY,GAAG,SAASA,YAAYA,CAACC,KAAK,EAAE;MAC9C,IAAI,CAACR,MAAM,CAACI,MAAM,EAAEI,KAAK,CAAC,EAAE;QAC1B,OAAOC,SAAS;MAClB;MAEA,IAAI,CAACD,KAAK,CAACE,QAAQ,CAACC,YAAY,IAAIH,KAAK,CAACE,QAAQ,CAACC,YAAY,CAACC,SAAS,IAAIJ,KAAK,CAACE,QAAQ,CAACC,YAAY,CAACE,gBAAgB,IAAIV,MAAM,CAACE,GAAG,CAACS,IAAI,CAACC,GAAG,KAAK,WAAW,IAAIP,KAAK,CAACE,QAAQ,CAACC,YAAY,CAACK,KAAK,KAAKb,MAAM,CAACE,GAAG,CAACS,IAAI,CAACC,GAAG,EAAE;QAC7N,OAAOZ,MAAM,CAACc,IAAI,CAACT,KAAK,CAAC;MAC3B;MAEA,OAAOC,SAAS;IAClB,CAAC;IAEDN,MAAM,CAACe,IAAI,CAAC,SAAS,EAAE,YAAY;MACjChB,GAAG,CAACiB,GAAG,CAACC,QAAQ,CAACC,EAAE,CAAC,MAAM,EAAEd,YAAY,CAAC;IAC3C,CAAC,CAAC;IACFJ,MAAM,CAACe,IAAI,CAAC,YAAY,EAAE,YAAY;MACpChB,GAAG,CAACiB,GAAG,CAACC,QAAQ,CAACE,cAAc,CAAC,MAAM,EAAEf,YAAY,CAAC;IACvD,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC;AAEDgB,MAAM,CAACC,OAAO,GAAGvB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}