{"ast":null,"code":"'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _require = require('stream'),\n  PassThrough = _require.PassThrough;\nvar WriteStream = require('./WriteStream');\nvar Worker = /*#__PURE__*/\nfunction () {\n  function Worker(channel, name) {\n    (0, _classCallCheck2.default)(this, Worker);\n    this.channel = channel;\n    this.name = name;\n  }\n  (0, _createClass2.default)(Worker, [{\n    key: \"createWriteStream\",\n    value: function () {\n      var _createWriteStream = (0, _asyncToGenerator2.default)(/*#__PURE__*/\n      _regenerator.default.mark(function _callee() {\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.channel.assertExchange(this.name, 'direct', {\n                  durable: true\n                });\n              case 2:\n                _context.next = 4;\n                return this.channel.assertQueue(this.name, {\n                  durable: true\n                });\n              case 4:\n                _context.next = 6;\n                return this.channel.bindQueue(this.name, this.name, '', {});\n              case 6:\n                return _context.abrupt(\"return\", new WriteStream(this.channel, this.name));\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n      return function createWriteStream() {\n        return _createWriteStream.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"createReadStream\",\n    value: function () {\n      var _createReadStream = (0, _asyncToGenerator2.default)(/*#__PURE__*/\n      _regenerator.default.mark(function _callee2() {\n        var _this = this;\n        var readStream;\n        return _regenerator.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.channel.assertExchange(this.name, 'direct', {\n                  durable: true\n                });\n              case 2:\n                _context2.next = 4;\n                return this.channel.assertQueue(this.name, {\n                  durable: true\n                });\n              case 4:\n                _context2.next = 6;\n                return this.channel.bindQueue(this.name, this.name, '', {});\n              case 6:\n                readStream = new PassThrough({\n                  objectMode: true\n                });\n                _context2.next = 9;\n                return this.channel.consume(this.name, function (message) {\n                  var parsedMessage = {};\n                  parsedMessage.payload = JSON.parse(message.content.toString('utf8'));\n                  parsedMessage.next = function () {\n                    _this.channel.ack(message);\n                  };\n                  parsedMessage.discard = function () {\n                    _this.channel.nack(message, false, false);\n                  };\n                  parsedMessage.defer = function () {\n                    _this.channel.nack(message, false, true);\n                  };\n                  readStream.write(parsedMessage);\n                }, {});\n              case 9:\n                return _context2.abrupt(\"return\", readStream);\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n      return function createReadStream() {\n        return _createReadStream.apply(this, arguments);\n      };\n    }()\n  }]);\n  return Worker;\n}();\nmodule.exports = Worker;","map":{"version":3,"names":["_interopRequireDefault","require","_regenerator","_asyncToGenerator2","_classCallCheck2","_createClass2","_require","PassThrough","WriteStream","Worker","channel","name","default","key","value","_createWriteStream","mark","_callee","wrap","_callee$","_context","prev","next","assertExchange","durable","assertQueue","bindQueue","abrupt","stop","createWriteStream","apply","arguments","_createReadStream","_callee2","_this","readStream","_callee2$","_context2","objectMode","consume","message","parsedMessage","payload","JSON","parse","content","toString","ack","discard","nack","defer","write","createReadStream","module","exports"],"sources":["/Users/anandarunima/Documents/Arunima/Coursework/sauce_labs-fizzbuzzbash/fizzbuzzbass/components/node_modules/hase/dist/worker/index.js"],"sourcesContent":["'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _require = require('stream'),\n    PassThrough = _require.PassThrough;\n\nvar WriteStream = require('./WriteStream');\n\nvar Worker =\n/*#__PURE__*/\nfunction () {\n  function Worker(channel, name) {\n    (0, _classCallCheck2.default)(this, Worker);\n    this.channel = channel;\n    this.name = name;\n  }\n\n  (0, _createClass2.default)(Worker, [{\n    key: \"createWriteStream\",\n    value: function () {\n      var _createWriteStream = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee() {\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.channel.assertExchange(this.name, 'direct', {\n                  durable: true\n                });\n\n              case 2:\n                _context.next = 4;\n                return this.channel.assertQueue(this.name, {\n                  durable: true\n                });\n\n              case 4:\n                _context.next = 6;\n                return this.channel.bindQueue(this.name, this.name, '', {});\n\n              case 6:\n                return _context.abrupt(\"return\", new WriteStream(this.channel, this.name));\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function createWriteStream() {\n        return _createWriteStream.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"createReadStream\",\n    value: function () {\n      var _createReadStream = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee2() {\n        var _this = this;\n\n        var readStream;\n        return _regenerator.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.channel.assertExchange(this.name, 'direct', {\n                  durable: true\n                });\n\n              case 2:\n                _context2.next = 4;\n                return this.channel.assertQueue(this.name, {\n                  durable: true\n                });\n\n              case 4:\n                _context2.next = 6;\n                return this.channel.bindQueue(this.name, this.name, '', {});\n\n              case 6:\n                readStream = new PassThrough({\n                  objectMode: true\n                });\n                _context2.next = 9;\n                return this.channel.consume(this.name, function (message) {\n                  var parsedMessage = {};\n                  parsedMessage.payload = JSON.parse(message.content.toString('utf8'));\n\n                  parsedMessage.next = function () {\n                    _this.channel.ack(message);\n                  };\n\n                  parsedMessage.discard = function () {\n                    _this.channel.nack(message, false, false);\n                  };\n\n                  parsedMessage.defer = function () {\n                    _this.channel.nack(message, false, true);\n                  };\n\n                  readStream.write(parsedMessage);\n                }, {});\n\n              case 9:\n                return _context2.abrupt(\"return\", readStream);\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function createReadStream() {\n        return _createReadStream.apply(this, arguments);\n      };\n    }()\n  }]);\n  return Worker;\n}();\n\nmodule.exports = Worker;"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,8CAA8C,CAAC;AAEpF,IAAIC,YAAY,GAAGF,sBAAsB,CAACC,OAAO,CAAC,4BAA4B,CAAC,CAAC;AAEhF,IAAIE,kBAAkB,GAAGH,sBAAsB,CAACC,OAAO,CAAC,yCAAyC,CAAC,CAAC;AAEnG,IAAIG,gBAAgB,GAAGJ,sBAAsB,CAACC,OAAO,CAAC,uCAAuC,CAAC,CAAC;AAE/F,IAAII,aAAa,GAAGL,sBAAsB,CAACC,OAAO,CAAC,oCAAoC,CAAC,CAAC;AAEzF,IAAIK,QAAQ,GAAGL,OAAO,CAAC,QAAQ,CAAC;EAC5BM,WAAW,GAAGD,QAAQ,CAACC,WAAW;AAEtC,IAAIC,WAAW,GAAGP,OAAO,CAAC,eAAe,CAAC;AAE1C,IAAIQ,MAAM,GACV;AACA,YAAY;EACV,SAASA,MAAMA,CAACC,OAAO,EAAEC,IAAI,EAAE;IAC7B,CAAC,CAAC,EAAEP,gBAAgB,CAACQ,OAAO,EAAE,IAAI,EAAEH,MAAM,CAAC;IAC3C,IAAI,CAACC,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,IAAI,GAAGA,IAAI;EAClB;EAEA,CAAC,CAAC,EAAEN,aAAa,CAACO,OAAO,EAAEH,MAAM,EAAE,CAAC;IAClCI,GAAG,EAAE,mBAAmB;IACxBC,KAAK,EAAE,YAAY;MACjB,IAAIC,kBAAkB,GAAG,CAAC,CAAC,EAAEZ,kBAAkB,CAACS,OAAO,EACvD;MACAV,YAAY,CAACU,OAAO,CAACI,IAAI,CAAC,SAASC,OAAOA,CAAA,EAAG;QAC3C,OAAOf,YAAY,CAACU,OAAO,CAACM,IAAI,CAAC,SAASC,QAAQA,CAACC,QAAQ,EAAE;UAC3D,OAAO,CAAC,EAAE;YACR,QAAQA,QAAQ,CAACC,IAAI,GAAGD,QAAQ,CAACE,IAAI;cACnC,KAAK,CAAC;gBACJF,QAAQ,CAACE,IAAI,GAAG,CAAC;gBACjB,OAAO,IAAI,CAACZ,OAAO,CAACa,cAAc,CAAC,IAAI,CAACZ,IAAI,EAAE,QAAQ,EAAE;kBACtDa,OAAO,EAAE;gBACX,CAAC,CAAC;cAEJ,KAAK,CAAC;gBACJJ,QAAQ,CAACE,IAAI,GAAG,CAAC;gBACjB,OAAO,IAAI,CAACZ,OAAO,CAACe,WAAW,CAAC,IAAI,CAACd,IAAI,EAAE;kBACzCa,OAAO,EAAE;gBACX,CAAC,CAAC;cAEJ,KAAK,CAAC;gBACJJ,QAAQ,CAACE,IAAI,GAAG,CAAC;gBACjB,OAAO,IAAI,CAACZ,OAAO,CAACgB,SAAS,CAAC,IAAI,CAACf,IAAI,EAAE,IAAI,CAACA,IAAI,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;cAE7D,KAAK,CAAC;gBACJ,OAAOS,QAAQ,CAACO,MAAM,CAAC,QAAQ,EAAE,IAAInB,WAAW,CAAC,IAAI,CAACE,OAAO,EAAE,IAAI,CAACC,IAAI,CAAC,CAAC;cAE5E,KAAK,CAAC;cACN,KAAK,KAAK;gBACR,OAAOS,QAAQ,CAACQ,IAAI,CAAC,CAAC;YAC1B;UACF;QACF,CAAC,EAAEX,OAAO,EAAE,IAAI,CAAC;MACnB,CAAC,CAAC,CAAC;MAEH,OAAO,SAASY,iBAAiBA,CAAA,EAAG;QAClC,OAAOd,kBAAkB,CAACe,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC;MAClD,CAAC;IACH,CAAC,CAAC;EACJ,CAAC,EAAE;IACDlB,GAAG,EAAE,kBAAkB;IACvBC,KAAK,EAAE,YAAY;MACjB,IAAIkB,iBAAiB,GAAG,CAAC,CAAC,EAAE7B,kBAAkB,CAACS,OAAO,EACtD;MACAV,YAAY,CAACU,OAAO,CAACI,IAAI,CAAC,SAASiB,QAAQA,CAAA,EAAG;QAC5C,IAAIC,KAAK,GAAG,IAAI;QAEhB,IAAIC,UAAU;QACd,OAAOjC,YAAY,CAACU,OAAO,CAACM,IAAI,CAAC,SAASkB,SAASA,CAACC,SAAS,EAAE;UAC7D,OAAO,CAAC,EAAE;YACR,QAAQA,SAAS,CAAChB,IAAI,GAAGgB,SAAS,CAACf,IAAI;cACrC,KAAK,CAAC;gBACJe,SAAS,CAACf,IAAI,GAAG,CAAC;gBAClB,OAAO,IAAI,CAACZ,OAAO,CAACa,cAAc,CAAC,IAAI,CAACZ,IAAI,EAAE,QAAQ,EAAE;kBACtDa,OAAO,EAAE;gBACX,CAAC,CAAC;cAEJ,KAAK,CAAC;gBACJa,SAAS,CAACf,IAAI,GAAG,CAAC;gBAClB,OAAO,IAAI,CAACZ,OAAO,CAACe,WAAW,CAAC,IAAI,CAACd,IAAI,EAAE;kBACzCa,OAAO,EAAE;gBACX,CAAC,CAAC;cAEJ,KAAK,CAAC;gBACJa,SAAS,CAACf,IAAI,GAAG,CAAC;gBAClB,OAAO,IAAI,CAACZ,OAAO,CAACgB,SAAS,CAAC,IAAI,CAACf,IAAI,EAAE,IAAI,CAACA,IAAI,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;cAE7D,KAAK,CAAC;gBACJwB,UAAU,GAAG,IAAI5B,WAAW,CAAC;kBAC3B+B,UAAU,EAAE;gBACd,CAAC,CAAC;gBACFD,SAAS,CAACf,IAAI,GAAG,CAAC;gBAClB,OAAO,IAAI,CAACZ,OAAO,CAAC6B,OAAO,CAAC,IAAI,CAAC5B,IAAI,EAAE,UAAU6B,OAAO,EAAE;kBACxD,IAAIC,aAAa,GAAG,CAAC,CAAC;kBACtBA,aAAa,CAACC,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACJ,OAAO,CAACK,OAAO,CAACC,QAAQ,CAAC,MAAM,CAAC,CAAC;kBAEpEL,aAAa,CAACnB,IAAI,GAAG,YAAY;oBAC/BY,KAAK,CAACxB,OAAO,CAACqC,GAAG,CAACP,OAAO,CAAC;kBAC5B,CAAC;kBAEDC,aAAa,CAACO,OAAO,GAAG,YAAY;oBAClCd,KAAK,CAACxB,OAAO,CAACuC,IAAI,CAACT,OAAO,EAAE,KAAK,EAAE,KAAK,CAAC;kBAC3C,CAAC;kBAEDC,aAAa,CAACS,KAAK,GAAG,YAAY;oBAChChB,KAAK,CAACxB,OAAO,CAACuC,IAAI,CAACT,OAAO,EAAE,KAAK,EAAE,IAAI,CAAC;kBAC1C,CAAC;kBAEDL,UAAU,CAACgB,KAAK,CAACV,aAAa,CAAC;gBACjC,CAAC,EAAE,CAAC,CAAC,CAAC;cAER,KAAK,CAAC;gBACJ,OAAOJ,SAAS,CAACV,MAAM,CAAC,QAAQ,EAAEQ,UAAU,CAAC;cAE/C,KAAK,EAAE;cACP,KAAK,KAAK;gBACR,OAAOE,SAAS,CAACT,IAAI,CAAC,CAAC;YAC3B;UACF;QACF,CAAC,EAAEK,QAAQ,EAAE,IAAI,CAAC;MACpB,CAAC,CAAC,CAAC;MAEH,OAAO,SAASmB,gBAAgBA,CAAA,EAAG;QACjC,OAAOpB,iBAAiB,CAACF,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC;MACjD,CAAC;IACH,CAAC,CAAC;EACJ,CAAC,CAAC,CAAC;EACH,OAAOtB,MAAM;AACf,CAAC,CAAC,CAAC;AAEH4C,MAAM,CAACC,OAAO,GAAG7C,MAAM","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}