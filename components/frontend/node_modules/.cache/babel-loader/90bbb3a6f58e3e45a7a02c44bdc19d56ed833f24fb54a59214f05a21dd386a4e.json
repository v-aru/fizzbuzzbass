{"ast":null,"code":"'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar postCommand = require('./wsPostCommand'),\n  postEvents = require('./wsPostEvents'),\n  postRead = require('./wsPostRead'),\n  sendMessage = require('./wsSendMessage');\nvar handleMessage = /*#__PURE__*/\nfunction () {\n  var _ref2 = (0, _asyncToGenerator2.default)(/*#__PURE__*/\n  _regenerator.default.mark(function _callee(socket, _ref) {\n    var app, message, readModel, writeModel, logger;\n    return _regenerator.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            app = _ref.app, message = _ref.message, readModel = _ref.readModel, writeModel = _ref.writeModel;\n            if (socket) {\n              _context.next = 3;\n              break;\n            }\n            throw new Error('Socket is missing.');\n          case 3:\n            if (app) {\n              _context.next = 5;\n              break;\n            }\n            throw new Error('App is missing.');\n          case 5:\n            if (message) {\n              _context.next = 7;\n              break;\n            }\n            throw new Error('Message is missing.');\n          case 7:\n            if (readModel) {\n              _context.next = 9;\n              break;\n            }\n            throw new Error('Read model is missing.');\n          case 9:\n            if (writeModel) {\n              _context.next = 11;\n              break;\n            }\n            throw new Error('Write model is missing.');\n          case 11:\n            logger = app.services.getLogger();\n            _context.t0 = message.type;\n            _context.next = _context.t0 === 'sendCommand' ? 15 : _context.t0 === 'subscribeEvents' ? 18 : _context.t0 === 'unsubscribeEvents' ? 21 : _context.t0 === 'subscribeRead' ? 24 : _context.t0 === 'unsubscribeRead' ? 27 : 30;\n            break;\n          case 15:\n            _context.next = 17;\n            return postCommand.send(socket, {\n              app: app,\n              message: message,\n              writeModel: writeModel\n            });\n          case 17:\n            return _context.abrupt(\"break\", 38);\n          case 18:\n            _context.next = 20;\n            return postEvents.subscribe(socket, {\n              app: app,\n              message: message\n            });\n          case 20:\n            return _context.abrupt(\"break\", 38);\n          case 21:\n            _context.next = 23;\n            return postEvents.unsubscribe(socket, {\n              app: app,\n              message: message\n            });\n          case 23:\n            return _context.abrupt(\"break\", 38);\n          case 24:\n            _context.next = 26;\n            return postRead.subscribe(socket, {\n              app: app,\n              message: message,\n              readModel: readModel\n            });\n          case 26:\n            return _context.abrupt(\"break\", 38);\n          case 27:\n            _context.next = 29;\n            return postRead.unsubscribe(socket, {\n              app: app,\n              message: message\n            });\n          case 29:\n            return _context.abrupt(\"break\", 38);\n          case 30:\n            _context.prev = 30;\n            _context.next = 33;\n            return sendMessage(socket, {\n              type: 'error',\n              statusCode: 400,\n              payload: 'Bad request.'\n            });\n          case 33:\n            _context.next = 38;\n            break;\n          case 35:\n            _context.prev = 35;\n            _context.t1 = _context[\"catch\"](30);\n            logger.error('Failed to send message.', {\n              ex: _context.t1\n            });\n          case 38:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[30, 35]]);\n  }));\n  return function handleMessage(_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nmodule.exports = handleMessage;","map":{"version":3,"names":["_interopRequireDefault","require","_regenerator","_asyncToGenerator2","postCommand","postEvents","postRead","sendMessage","handleMessage","_ref2","default","mark","_callee","socket","_ref","app","message","readModel","writeModel","logger","wrap","_callee$","_context","prev","next","Error","services","getLogger","t0","type","send","abrupt","subscribe","unsubscribe","statusCode","payload","t1","error","ex","stop","_x","_x2","apply","arguments","module","exports"],"sources":["/Users/anandarunima/Documents/Arunima/Coursework/sauce_labs-fizzbuzzbash/fizzbuzzbass/components/node_modules/tailwind/dist/wires/api/http/v1/wsHandleMessage.js"],"sourcesContent":["'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar postCommand = require('./wsPostCommand'),\n    postEvents = require('./wsPostEvents'),\n    postRead = require('./wsPostRead'),\n    sendMessage = require('./wsSendMessage');\n\nvar handleMessage =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = (0, _asyncToGenerator2.default)(\n  /*#__PURE__*/\n  _regenerator.default.mark(function _callee(socket, _ref) {\n    var app, message, readModel, writeModel, logger;\n    return _regenerator.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            app = _ref.app, message = _ref.message, readModel = _ref.readModel, writeModel = _ref.writeModel;\n\n            if (socket) {\n              _context.next = 3;\n              break;\n            }\n\n            throw new Error('Socket is missing.');\n\n          case 3:\n            if (app) {\n              _context.next = 5;\n              break;\n            }\n\n            throw new Error('App is missing.');\n\n          case 5:\n            if (message) {\n              _context.next = 7;\n              break;\n            }\n\n            throw new Error('Message is missing.');\n\n          case 7:\n            if (readModel) {\n              _context.next = 9;\n              break;\n            }\n\n            throw new Error('Read model is missing.');\n\n          case 9:\n            if (writeModel) {\n              _context.next = 11;\n              break;\n            }\n\n            throw new Error('Write model is missing.');\n\n          case 11:\n            logger = app.services.getLogger();\n            _context.t0 = message.type;\n            _context.next = _context.t0 === 'sendCommand' ? 15 : _context.t0 === 'subscribeEvents' ? 18 : _context.t0 === 'unsubscribeEvents' ? 21 : _context.t0 === 'subscribeRead' ? 24 : _context.t0 === 'unsubscribeRead' ? 27 : 30;\n            break;\n\n          case 15:\n            _context.next = 17;\n            return postCommand.send(socket, {\n              app: app,\n              message: message,\n              writeModel: writeModel\n            });\n\n          case 17:\n            return _context.abrupt(\"break\", 38);\n\n          case 18:\n            _context.next = 20;\n            return postEvents.subscribe(socket, {\n              app: app,\n              message: message\n            });\n\n          case 20:\n            return _context.abrupt(\"break\", 38);\n\n          case 21:\n            _context.next = 23;\n            return postEvents.unsubscribe(socket, {\n              app: app,\n              message: message\n            });\n\n          case 23:\n            return _context.abrupt(\"break\", 38);\n\n          case 24:\n            _context.next = 26;\n            return postRead.subscribe(socket, {\n              app: app,\n              message: message,\n              readModel: readModel\n            });\n\n          case 26:\n            return _context.abrupt(\"break\", 38);\n\n          case 27:\n            _context.next = 29;\n            return postRead.unsubscribe(socket, {\n              app: app,\n              message: message\n            });\n\n          case 29:\n            return _context.abrupt(\"break\", 38);\n\n          case 30:\n            _context.prev = 30;\n            _context.next = 33;\n            return sendMessage(socket, {\n              type: 'error',\n              statusCode: 400,\n              payload: 'Bad request.'\n            });\n\n          case 33:\n            _context.next = 38;\n            break;\n\n          case 35:\n            _context.prev = 35;\n            _context.t1 = _context[\"catch\"](30);\n            logger.error('Failed to send message.', {\n              ex: _context.t1\n            });\n\n          case 38:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[30, 35]]);\n  }));\n\n  return function handleMessage(_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nmodule.exports = handleMessage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}