{"ast":null,"code":"'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar WebSocket = require('ws');\nvar sendMessage = /*#__PURE__*/\nfunction () {\n  var _ref2 = (0, _asyncToGenerator2.default)(/*#__PURE__*/\n  _regenerator.default.mark(function _callee(socket, _ref) {\n    var type, procedureId, payload, _ref$statusCode, statusCode, message;\n    return _regenerator.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            type = _ref.type, procedureId = _ref.procedureId, payload = _ref.payload, _ref$statusCode = _ref.statusCode, statusCode = _ref$statusCode === void 0 ? 200 : _ref$statusCode;\n            if (socket) {\n              _context.next = 3;\n              break;\n            }\n            throw new Error('Socket is missing.');\n          case 3:\n            if (type) {\n              _context.next = 5;\n              break;\n            }\n            throw new Error('Type is missing.');\n          case 5:\n            message = {\n              type: type,\n              payload: payload,\n              statusCode: statusCode\n            };\n            if (procedureId) {\n              message.procedureId = procedureId;\n            }\n            if (!(socket.readyState !== WebSocket.OPEN)) {\n              _context.next = 9;\n              break;\n            }\n            return _context.abrupt(\"return\");\n          case 9:\n            _context.next = 11;\n            return new Promise(function (resolve, reject) {\n              socket.send(JSON.stringify(message), function (err) {\n                if (err) {\n                  return reject(err);\n                }\n                resolve();\n              });\n            });\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function sendMessage(_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nmodule.exports = sendMessage;","map":{"version":3,"names":["_interopRequireDefault","require","_regenerator","_asyncToGenerator2","WebSocket","sendMessage","_ref2","default","mark","_callee","socket","_ref","type","procedureId","payload","_ref$statusCode","statusCode","message","wrap","_callee$","_context","prev","next","Error","readyState","OPEN","abrupt","Promise","resolve","reject","send","JSON","stringify","err","stop","_x","_x2","apply","arguments","module","exports"],"sources":["/Users/anandarunima/Documents/Arunima/Coursework/sauce_labs-fizzbuzzbash/fizzbuzzbass/components/node_modules/tailwind/dist/wires/api/http/v1/wsSendMessage.js"],"sourcesContent":["'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar WebSocket = require('ws');\n\nvar sendMessage =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = (0, _asyncToGenerator2.default)(\n  /*#__PURE__*/\n  _regenerator.default.mark(function _callee(socket, _ref) {\n    var type, procedureId, payload, _ref$statusCode, statusCode, message;\n\n    return _regenerator.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            type = _ref.type, procedureId = _ref.procedureId, payload = _ref.payload, _ref$statusCode = _ref.statusCode, statusCode = _ref$statusCode === void 0 ? 200 : _ref$statusCode;\n\n            if (socket) {\n              _context.next = 3;\n              break;\n            }\n\n            throw new Error('Socket is missing.');\n\n          case 3:\n            if (type) {\n              _context.next = 5;\n              break;\n            }\n\n            throw new Error('Type is missing.');\n\n          case 5:\n            message = {\n              type: type,\n              payload: payload,\n              statusCode: statusCode\n            };\n\n            if (procedureId) {\n              message.procedureId = procedureId;\n            }\n\n            if (!(socket.readyState !== WebSocket.OPEN)) {\n              _context.next = 9;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 9:\n            _context.next = 11;\n            return new Promise(function (resolve, reject) {\n              socket.send(JSON.stringify(message), function (err) {\n                if (err) {\n                  return reject(err);\n                }\n\n                resolve();\n              });\n            });\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function sendMessage(_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nmodule.exports = sendMessage;"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,8CAA8C,CAAC;AAEpF,IAAIC,YAAY,GAAGF,sBAAsB,CAACC,OAAO,CAAC,4BAA4B,CAAC,CAAC;AAEhF,IAAIE,kBAAkB,GAAGH,sBAAsB,CAACC,OAAO,CAAC,yCAAyC,CAAC,CAAC;AAEnG,IAAIG,SAAS,GAAGH,OAAO,CAAC,IAAI,CAAC;AAE7B,IAAII,WAAW,GACf;AACA,YAAY;EACV,IAAIC,KAAK,GAAG,CAAC,CAAC,EAAEH,kBAAkB,CAACI,OAAO,EAC1C;EACAL,YAAY,CAACK,OAAO,CAACC,IAAI,CAAC,SAASC,OAAOA,CAACC,MAAM,EAAEC,IAAI,EAAE;IACvD,IAAIC,IAAI,EAAEC,WAAW,EAAEC,OAAO,EAAEC,eAAe,EAAEC,UAAU,EAAEC,OAAO;IAEpE,OAAOf,YAAY,CAACK,OAAO,CAACW,IAAI,CAAC,SAASC,QAAQA,CAACC,QAAQ,EAAE;MAC3D,OAAO,CAAC,EAAE;QACR,QAAQA,QAAQ,CAACC,IAAI,GAAGD,QAAQ,CAACE,IAAI;UACnC,KAAK,CAAC;YACJV,IAAI,GAAGD,IAAI,CAACC,IAAI,EAAEC,WAAW,GAAGF,IAAI,CAACE,WAAW,EAAEC,OAAO,GAAGH,IAAI,CAACG,OAAO,EAAEC,eAAe,GAAGJ,IAAI,CAACK,UAAU,EAAEA,UAAU,GAAGD,eAAe,KAAK,KAAK,CAAC,GAAG,GAAG,GAAGA,eAAe;YAE5K,IAAIL,MAAM,EAAE;cACVU,QAAQ,CAACE,IAAI,GAAG,CAAC;cACjB;YACF;YAEA,MAAM,IAAIC,KAAK,CAAC,oBAAoB,CAAC;UAEvC,KAAK,CAAC;YACJ,IAAIX,IAAI,EAAE;cACRQ,QAAQ,CAACE,IAAI,GAAG,CAAC;cACjB;YACF;YAEA,MAAM,IAAIC,KAAK,CAAC,kBAAkB,CAAC;UAErC,KAAK,CAAC;YACJN,OAAO,GAAG;cACRL,IAAI,EAAEA,IAAI;cACVE,OAAO,EAAEA,OAAO;cAChBE,UAAU,EAAEA;YACd,CAAC;YAED,IAAIH,WAAW,EAAE;cACfI,OAAO,CAACJ,WAAW,GAAGA,WAAW;YACnC;YAEA,IAAI,EAAEH,MAAM,CAACc,UAAU,KAAKpB,SAAS,CAACqB,IAAI,CAAC,EAAE;cAC3CL,QAAQ,CAACE,IAAI,GAAG,CAAC;cACjB;YACF;YAEA,OAAOF,QAAQ,CAACM,MAAM,CAAC,QAAQ,CAAC;UAElC,KAAK,CAAC;YACJN,QAAQ,CAACE,IAAI,GAAG,EAAE;YAClB,OAAO,IAAIK,OAAO,CAAC,UAAUC,OAAO,EAAEC,MAAM,EAAE;cAC5CnB,MAAM,CAACoB,IAAI,CAACC,IAAI,CAACC,SAAS,CAACf,OAAO,CAAC,EAAE,UAAUgB,GAAG,EAAE;gBAClD,IAAIA,GAAG,EAAE;kBACP,OAAOJ,MAAM,CAACI,GAAG,CAAC;gBACpB;gBAEAL,OAAO,CAAC,CAAC;cACX,CAAC,CAAC;YACJ,CAAC,CAAC;UAEJ,KAAK,EAAE;UACP,KAAK,KAAK;YACR,OAAOR,QAAQ,CAACc,IAAI,CAAC,CAAC;QAC1B;MACF;IACF,CAAC,EAAEzB,OAAO,CAAC;EACb,CAAC,CAAC,CAAC;EAEH,OAAO,SAASJ,WAAWA,CAAC8B,EAAE,EAAEC,GAAG,EAAE;IACnC,OAAO9B,KAAK,CAAC+B,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC;EACrC,CAAC;AACH,CAAC,CAAC,CAAC;AAEHC,MAAM,CAACC,OAAO,GAAGnC,WAAW","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}